<!DOCTYPE html>
<html lang="en-GB">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Cart</title>

		<link rel="stylesheet" href="/css/vendor.bundle.css">
		<link rel="stylesheet" href="/css/components.bundle.css">
		<link rel="stylesheet" href="/css/app.css">
	</head>


	<body>
		<div id="app">
			<header>
				<nav>
					<div class="grid">
							<a href="#">:D</a>
					</div>
				</nav>
			</header>
			<transition name="slide-fade">
				<nav v-show="nav.open === true" class="nav--left">
					<div class="nav-open">
						<i @click="closeNav()">X</i>
						<ul class="categories">
							<li @click="currentCategory = category.id" v-for="category in categories">{{ category.name }}</li>
						</ul>
					</div>
				</nav>
			</transition>
			<div @click="openNav()" class="nav-closed">
				<p v-text="nav.content"></p>
			</div>
			<!-- <nav>
				<div class="grid">
					<ul>
						<a href="#"><li>Home</li></a>
					</ul>
				</div>
			</nav> -->
			<main class="grid--large content products">
				<h1>{{ title }}</h1>
				<ul v-if="categories.length > 0" class="column--55 gutter-after box-shadow">
					<h3>{{ findCategory(currentCategory).name }}</h3>
					<li v-if="item.available" class="box-shadow margin-bottom" v-for="item in getProductsInCategory(currentCategory)">
						<img class="column--45" :src="item.img" alt="product image">
						<div class="item__content column--45">
							<h4>{{ item.name }}</h4><p class="highlighted">${{ item.price }}</p>
							<p>{{ item.description }}</p>

							<button @click="addItem(item)" class="btn--cart" type="button" name="button">ADD TO CART</button>
						</div>

					</li>
				</ul>
			</main>

			<div class="cart">

				<div class="cart--closed" @click="openCart()">
					<h4>Cart</h4><i></i>
				</div>
					<transition name="fade">
						<div v-show="cart.open === true" class="cart--open">
							<button @click="closeCart()" type="button" name="button"> close cart</button>

							<ul class="">
								<h3>Cart</h3>
								<div v-if="order.length === 0"class="cart-empty">
										{{ cart.empty }}
								</div>
								<li class="box-shadow margin-bottom" v-for="(item, index) in order">
									<img :src="item.img" alt=" product image">
									<h4>{{ item.name }}</h4>
									<p>{{ item.description }}</p>
									<p class="highlighted">${{ item.price }}</p>
									<button @click="removeItem(index)" class="btn--cart" type="button" name="button">Remove Item</button>
								</li>
							</ul>
							<button v-if="order.length > 0" class="btn--cart" @click="checkbox = !checkbox" type="button" name="button">EMPTY CART</button>

							<modal @click-out="checkbox = !checkbox" :visible="checkbox">
								<div class="warning">!</div>
								<button @click="emptyCart()" class="btn--cart" type="button" name="button">Remove all items from cart?</button>
							</modal>
						</div>
					</transition>

			</div>

		</div>

		<script src="/js/vendor.bundle.js"></script>
		<script src="/js/components.bundle.js"></script>
		<script src="/js/app.js"></script>
	</body>

</html>
